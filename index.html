<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Комплексный тест: Python - SQL - HTTP</title>
    <style>
        .header {
            position: sticky;
            top: 0;
            background-color: white; /* Фон, чтобы контент не просвечивал при прокрутке */
            z-index: 1000; /* Убедимся, что заголовок поверх другого контента */
            padding-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Небольшая тень для визуального отделения */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Комплексный тест</h1>
            <p>Python - MySQL - HTTP Протокол</p>
            <div class="timer" id="timer">
                Время: 25 минут
            </div>
        </div>

        <div class="content">
            <div class="warning">
                <strong>Внимание!</strong>
                Копирование и вставка текста в поля ответов заблокированы. Все ответы должны быть написаны вручную. Время выполнения: 20 минут.
            </div>

            <div class="student-info">
                <h3 style="margin-bottom: 15px;">Информация о студенте</h3>
                <input type="text" id="studentName" placeholder="Ваше полное имя *" required>
                <input type="text" id="studentEmail" placeholder="Email *" required>
                <input type="text" id="studentGroup" placeholder="Группа *" required>
            </div>

            <form id="testForm">
                <!-- РАЗДЕЛ 1: PYTHON -->
                <div class="section-title">Раздел 1: Python (9 вопросов)</div>

                <div class="question">
                    <div class="question-number">Вопрос 1</div>
                    <div class="question-text">Что выведет следующий код?</div>
                    <div class="code-block">
                        def func(x=[]):
                            x.append(1)
                            return x
                        print(func())
                        print(func())
                        print(func())</div>
                    <input type="text" name="q1" placeholder="Ваш ответ" required>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 2</div>
                    <div class="question-text">Напишите рекурсивную функцию для вычисления факториала числа n.</div>
                    <textarea name="q2" placeholder="Напишите ваш код здесь..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 3</div>
                    <div class="question-text">Что выведет этот код?</div>
                    <div class="code-block">
                        data = {'a': {'b': {'c': 10}}}
                        print(data['a']['b']['c'])
                        data['a']['b']['d'] = 20
                        print(data)
                    </div>
                    <textarea name="q3" placeholder="Ваш ответ" required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 4</div>
                    <div class="question-text">Напишите код для чтения файла построчно</div>
                    <textarea name="q4" placeholder="Напишите ваш код здесь..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 5</div>
                    <div class="question-text">Что выведет следующий код, если файл test.txt не существует?</div>
                    <div class="code-block">
                        try:
                            with open('test.txt', 'r') as f:
                                content = f.read()
                        except FileNotFoundError:
                            print('Файл не найден')
                        finally:
                            print('Завершено')
                    </div>
                    <textarea name="q5" placeholder="Ваш ответ" required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 6</div>
                    <div class="question-text">Напишите рекурсивную функцию для нахождения суммы всех чисел в вложенном списке.</div>
                    <div class="code-block">Пример: nested_sum([1, [2, 3], [[4], 5]]) должна вернуть 15</div>
                    <textarea name="q6" placeholder="Напишите ваш код здесь..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 7</div>
                    <div class="question-text">Объясните разницу между 'r', 'w', 'a', и 'r+' режимами открытия файлов в Python.</div>
                    <textarea name="q7" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 8</div>
                    <div class="question-text">Что выведет этот код?</div>
                    <div class="code-block">
                        matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
                        result = [row[1] for row in matrix]
                        print(result)
                    </div>
                    <input type="text" name="q8" placeholder="Ваш ответ" required>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 9</div>
                    <div class="question-text">Напишите код для работы с JSON файлом: прочитайте данные из файла 'data.json', добавьте новый ключ 'status': 'active' и сохраните обратно.</div>
                    <textarea name="q9" placeholder="Напишите ваш код здесь..." required></textarea>
                </div>

                <div class="section-title">Раздел 2: MySQL/SQLite/PostgreSQL (8 вопросов)</div>

                <div class="question">
                    <div class="question-number">Вопрос 10</div>
                    <div class="question-text">Напишите SQL запрос для создания таблицы 'users' с полями: id (PRIMARY KEY, AUTO_INCREMENT), name (VARCHAR(100)), email (VARCHAR(100), UNIQUE), created_at (TIMESTAMP).</div>
                    <textarea name="q10" placeholder="Напишите SQL запрос..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 11</div>
                    <div class="question-text">Напишите запрос для выборки всех пользователей, чей email содержит '@gmail.com' и которые зарегистрировались за последние 30 дней.</div>
                    <textarea name="q11" placeholder="Напишите SQL запрос..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 12</div>
                    <div class="question-text">В чём разница между INNER JOIN, LEFT JOIN и RIGHT JOIN? Приведите примеры.</div>
                    <textarea name="q12" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 13</div>
                    <div class="question-text">Напишите запрос для подсчёта количества заказов для каждого пользователя из таблицы 'orders' (поля: id, user_id, amount). Результат должен включать только пользователей с более чем 5 заказами.</div>
                    <textarea name="q13" placeholder="Напишите SQL запрос..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 14</div>
                    <div class="question-text">Что такое индекс в базе данных? Для чего он нужен? Напишите SQL для создания индекса на поле 'email' в таблице 'users'.</div>
                    <textarea name="q14" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 15</div>
                    <div class="question-text">Напишите запрос для обновления поля 'status' на 'inactive' для всех пользователей, которые не совершали заказов (таблицы: users, orders с полем user_id).</div>
                    <textarea name="q15" placeholder="Напишите SQL запрос..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 16</div>
                    <div class="question-text">Объясните, что такое транзакция в MySQL и зачем используются команды BEGIN, COMMIT и ROLLBACK.</div>
                    <textarea name="q16" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 17</div>
                    <div class="question-text">Напишите запрос для получения топ-3 самых дорогих товаров из таблицы 'products' (поля: id, name, price).</div>
                    <textarea name="q17" placeholder="Напишите SQL запрос..." required></textarea>
                </div>

                <div class="section-title">Раздел 3: HTTP Протокол и API (8 вопросов)</div>

                <div class="question">
                    <div class="question-number">Вопрос 18</div>
                    <div class="question-text">Перечислите основные HTTP методы и опишите их назначение.</div>
                    <textarea name="q18" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 19</div>
                    <div class="question-text">Что означают следующие HTTP статус коды: 200, 201, 400, 401, 403, 404, 500, 503?</div>
                    <textarea name="q19" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 20</div>
                    <div class="question-text">В каком формате обычно возвращаются данные с REST API сервера? Назовите минимум два формата и их особенности.</div>
                    <textarea name="q20" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 21</div>
                    <div class="question-text">Опишите структуру HTTP-запроса. Из каких основных частей он состоит?</div>
                    <textarea name="q21" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 22</div>
                    <div class="question-text">Напишите пример Python кода для отправки POST запроса на URL 'https://api.example.com/users' с JSON данными {'name': 'John', 'email': 'john@example.com'} используя библиотеку requests.</div>
                    <textarea name="q22" placeholder="Напишите ваш код здесь..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 23</div>
                    <div class="question-text">Объясните разницу между HTTP и HTTPS.</div>
                    <textarea name="q23" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 24</div>
                    <div class="question-text">Что такое заголовки (headers) в HTTP запросах?</div>
                    <textarea name="q24" placeholder="Ваш ответ..." required></textarea>
                </div>

                <div class="question">
                    <div class="question-number">Вопрос 25</div>
                    <div class="question-text">Напишите код на Python для обработки ответа от API: проверьте статус код (если 200, то выведите данные в JSON формате, иначе выведите ошибку).</div>
                    <textarea name="q25" placeholder="Напишите ваш код здесь..." required></textarea>
                </div>

                <button type="submit" class="submit-btn" id="submitBtn">Отправить тест</button>
            </form>

            <div class="success-message" id="successMessage">
                <h2>Тест успешно отправлен!</h2>
                <p>Ваши ответы сохранены. Можете закрыть эту страницу.</p>
            </div>

            <div class="time-up-message" id="timeUpMessage">
                <h2>Время вышло!</h2>
                <p>К сожалению, вы не успели завершить тест. Тест не пройден.</p>
            </div>
        </div>
    </div>
    <script src="main.js"></script>
</body>
</html>